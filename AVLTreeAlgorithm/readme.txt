Случайная алгоритмическая задача.
Splay-дерево с поддержкой split и merge, которое выполняет
- next_permutation и prev_permutation на подотрезке массива
- прибавление на подотрезке
- присвоение на подотрезке
- считает сумму на подотрезке
- Позволяет вставлять элемент в произвольное место массива
- Позволяет удалять произвольный элемент массива
